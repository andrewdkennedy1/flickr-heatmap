
<!DOCTYPE html>
<html>
<body>
<div id="result">Running...</div>
<script>
    try {
        const year = 2024;
        const currentYear = 2026; // Simulating user state

        const start = new Date(Date.UTC(year, 0, 1, 0, 0, 0));
        // Logic from page.tsx lines 43-45
        const end =
          year === currentYear
            ? new Date()
            : new Date(Date.UTC(year + 1, 0, 1, 0, 0, 0) - 1);
        
        const days = [];
        
        for (let cursor = new Date(start); cursor <= end; cursor.setUTCDate(cursor.getUTCDate() + 1)) {
            const dateStr = cursor.toISOString().split('T')[0];
            days.push(dateStr);
        }
        
        const report = {
            start: start.toISOString(),
            end: end.toISOString(),
            count: days.length,
            first: days[0],
            last: days[days.length - 1],
            hasDec30: days.includes('2024-12-30'),
            hasDec31: days.includes('2024-12-31')
        };
        
        document.getElementById('result').innerText = JSON.stringify(report, null, 2);
    } catch (e) {
        document.getElementById('result').innerText = 'Error: ' + e.toString();
    }
</script>
</body>
</html>
